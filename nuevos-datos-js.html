<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nuevos datos JS</title>
  </head>
  <body>
    <h1>Nuevos datos JS</h1>
    <script>
      /************************Symbol***************************/
      /*let id = "hola";
            let id2 = "hola";
            let id3 = Symbol("hola");
            let id4 = Symbol("hola");
            console.log(id === id2);
            console.log(id3 === id4);
            console.log(id3, id4);
            console.log(typeof id3, typeof id4);

            const NAME = Symbol();
            const persona = {
              [NAME]: "Alejandro",
            };
            console.log(persona);
            persona.NAME = "Alejandro Costilla";
            console.log(persona);

            const SALUDAR = Symbol();

            persona[SALUDAR] = function () {
              console.log("Hola te estoy saludando");
            };
            console.log(persona);
            persona[SALUDAR]();

            console.log(Object.getOwnPropertySymbols(persona));*/
      console.clear();
      /*****************************Set***************************/
      /*
                        const set = new Set([
                          1,
                          1,
                          2,
                          2,
                          true,
                          false,
                          [],
                          [],
                          "hola",
                          "Hola",
                          {},
                          {},
                        ]);
                        console.log(set);

                        const set2 = new Set([]);
                        set2.add(1);
                        set2.add(2);
                        set2.add(2);
                        set2.add({});
                        set2.add({});
                        set2.add([]);
                        set2.add([]);
                        set2.add(true);
                        set2.add(true);
                        set2.add(false);
                        console.log(set2);
                        console.log("Recorriendo set");
                        for (item of set) {
                          console.log(item);
                        }
                        console.log("Recorriendo set2");
                        set.forEach((item) => console.log(item));

                        console.log("Recorriendo un elemento de set");
                        let arr = Array.from(set);
                        console.log(arr[0]);
                        console.log(arr[1]);
                        */
      console.clear();
      /****************************map***************************/
      /*
                  let map = new Map();
                  map.set("nombre", "Alejandro");
                  map.set("apellido", "Costilla");
                  map.set("edad", 32);
                  console.log(map);
                  console.log(map.size);
                  map.delete("apellido");
                  console.log(map);
                  for (let [key, value] of map)
                    console.log(`Llave: ${key} Valor: ${value}`);
            */
      console.clear();
      /****************************ws***************************/

      /*const ws = new WeakSet();

            let valor1 = ["Valor 1"];
            let valor2 = ["Valor 2"];
            let valor3 = ["Valor 3"];

            ws.add(valor1);
            ws.add(valor2);
            console.log(ws);

            console.log(ws.has(valor3));
            console.log(ws.has(valor2));
            ws.has(valor2);

            ws.delete(valor2);
            console.log(ws);

            setInterval(() => {
              console.log(ws);
            }, 1000);
            setTimeout(() => {
              valor1 = null;
              console.log(valor1);
            }, 3000);
            console.log(valor1);*/
      console.clear();
      /****************************wm***************************/
      /*const wm = new WeakMap();
            let llave1 = {};
            let llave2 = {};
            let llave3 = {};

            wm.set(llave1, 1);
            wm.set(llave2, 2);
            console.log(wm);

            setInterval(() => {
              console.log(wm);
            }, 1000);
            setTimeout(() => {
              llave1 = null;
              llave2 = null;
              console.log(llave1);
            }, 3000);*/
      console.clear();
      /******************Iterables & Iterators(asincronia bloqueante)********************/

      /*const iterable = [1, 2, 3, 4, 5];
            const texto = "Hola Mundo";

            //accedemos al iterador del iterable
            const iterador = iterable[Symbol.iterator]();

            console.log(iterable);
            console.log(iterador);
            console.log(iterador.next());

            let next = iterador.next();
            console.log(next);
            console.log(next);
            console.log(next);
            console.log(next);
            console.log(next);
            console.log(next);
            console.log(next);

            while (!next.done) {
              console.log(next);
              next = iterador.next();
            }*/
      console.clear();
      /**********************generators(asincronia no bloqueante)************************/
      /*function* iterable() {
              yield "hola";
              console.log("Hola consola");
              yield "hola 2";
              console.log("Seguimos con mas instrucciones de nuestro codigo");
              yield "hola 3";
              yield "hola 4";
            }

            let iterador = iterable();
            //console.log(iterador.next());

            for (let y of iterador) console.log(y);

            const arr = [...iterable()];
            console.log(arr);

            function cuadrado(valor) {
              setTimeout(() => {
                console.log({
                  valor,
                  resultado: valor * valor,
                });
              }, Math.random() * 1000);
            }

            function* generador() {
              console.log("Entro al generador");
              yield cuadrado(0);
              yield cuadrado(1);
              yield cuadrado(2);
              yield cuadrado(3);
              yield cuadrado(4);
              yield cuadrado(5);
              console.log("Salio del generador");
            }
            let gen = generador();
            for (let y of gen) console.log(y);*/
      console.clear();
      /**********************************Proxies************************************/
      /*const persona = {
              nombre: "",
              apellido: "",
              edad: 0,
            };

            const manejador = {
              set(obj, prop, valor) {
                if (Object.keys(obj).indexOf(prop) === -1) {
                  return console.error(`La ${prop} No existe en el objeto persona`);
                }

                if (
                  (prop === "nombre" || prop === "apellido") &&
                  !/^[A-Za-zÑñáéíóú\s]+$/g.test(valor)
                ) {
                  return console.error(
                    `La propiedad "${prop}" solo acepta letras y espacios en blanco`
                  );
                }
                obj[prop] = valor;
              },
            };

            const ale = new Proxy(persona, manejador);
            ale.nombre = "Alejandro";
            ale.apellido = "Costi-lla";
            ale.edad = 32;
            ale.twitter = "ale@twitter.es";
            console.log(ale);
            console.log(persona);*/
      console.clear();
      /********************Propiedades dinamicas objetos**********************/

      /*let aleatorio = Math.round(Math.random() * 100 + 5);
            const objUsuarios = {
              [`id_${aleatorio}`]: "valor Aleatorio",
            };

            console.log(objUsuarios);

            const usuarios = ["ari", "adrian", "jose", "jorge"];

            usuarios.forEach(
              (usuarios, index) => (objUsuarios[`id_${index}`] = usuarios)
            );

            console.log(objUsuarios);*/
      console.clear();
      /*****************************Objeto This*******************************/
      /*this.nombre = "contexto global";
            console.log(this.nombre);

            function imprimir() {
              console.log(this.nombre);
            }
            const obj = {
              nombre: "contexto objeto",
              imprimir: function () {
                console.log(this.nombre);
              },
            };
            obj.imprimir();

            const obj2 = {
              nombre: "Contexto Objeto 2",
              imprimir,
            };
            obj2.imprimir();

            function Persona(nombre) {
              this.nombre = nombre;

              return function () {
                console.log(this.nombre);
              };
            }
            let ale = new Persona("Alejandro");
            ale();*/
      console.clear();
      /**************************call apply bind******************************/
      /*console.log(this);
            this.lugar = "Contexto Global";

            function saludar(saludar, aQuien) {
              console.log(`Hola: ${saludar} ${aQuien} Estamos en: ${this.lugar}`);
            }
            saludar();

            const obj = {
              lugar: "Contexto Objeto",
            };

            saludar.call(null, "Hola", "Ale");
            saludar.call(obj, "Hola", "Ale");
            saludar.apply(null, ["Hola", "Ale"]);
            saludar.apply(obj, ["Hola", "Ale"]);

            const persona = {
              nombre: "Ale",
              saludar: function () {
                console.log(`Hola ${this.nombre}`);
              },
            };

            persona.saludar();

            const otraPersona = {
              saludar: persona.saludar.bind(persona),
            };

            otraPersona.saludar();*/
      console.clear();
      /*******************************json***********************************/

      const json = {
        cadena: "Ale",
        numero: 32,
        boolean: true,
        arreglo: ["bicicletear", "boxear", "estudiar"],
        objeto: {
          instagram: "instagram",
          facebook: "facebook",
        },
        nulo: null,
      };

      console.log(json);
      console.log(JSON);
      //pasamos texto codigo js
      console.log(JSON.parse("{}"));
      console.log(JSON.parse("[]"));
      console.log(
        JSON.parse(`{
        "cadena": "Ale",
        "numero": 32,
        "boolean": true,
        "arreglo": ["bicicletear", "boxear", "estudiar"],
        "objeto": { "instagram": "instagram", "facebook": "facebook" },
        "nulo": null
      }`)
      );
      //pasamos codigo a texto
      console.log(JSON.stringify({}));
      console.log(JSON.stringify([]));
      console.log(JSON.stringify(json));
    </script>
  </body>
</html>
